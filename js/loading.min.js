!function(){function d(a){var b=a.count,d=a.total,f=Math.round(1e3*b/d)/10,g=document.querySelector("#J_loading .logo");return c&&(c.innerHTML=b+"/"+d),g.style.opacity=f/100,b===d?e():void 0}function e(){var a=document.querySelector("#J_main"),b=document.querySelector("#J_loading");begin(),page_begin(),b.classList.add("hide"),a.classList.remove("hide")}var c,b=function(a,b){var c=b||{};this.source=a,this.count=0,this.total=a.length,this.onload=c.onload,this.prefix=c.prefix||"",this.init()};b.prototype.init=function(){var a=this;a.source.forEach(function(b){var c=b.replace(/[#\?].*$/,"").substr(b.lastIndexOf(".")+1).toLowerCase(),d=a.prefix+b;switch(c){case"js":a.script.call(a,d);break;case"css":a.stylesheet.call(a,d);break;case"svg":case"jpg":case"gif":case"png":case"jpeg":a.image.call(a,d)}})},b.prototype.getProgress=function(){return Math.round(100*(this.count/this.total))},b.prototype.image=function(a){var b=document.createElement("img");this.load(b,a),b.src=a},b.prototype.stylesheet=function(a){var b=document.createElement("link");this.load(b,a),b.rel="stylesheet",b.type="text/css",b.href=a,document.head.appendChild(b)},b.prototype.script=function(a){var b=document.createElement("script");this.load(b,a),b.type="text/javascript",b.src=a,document.head.appendChild(b)},b.prototype.load=function(a,b){var c=this;a.onload=a.onerror=a.onabort=function(a){c.onload&&c.onload({count:++c.count,total:c.total,item:b,type:a.type})}},c=document.querySelector("#J_progress"),new b(tasks,{onload:d})}();